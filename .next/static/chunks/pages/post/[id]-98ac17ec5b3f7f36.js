(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[687],{5021:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/post/[id]",function(){return t(6820)}])},6542:function(e,n,t){"use strict";t.d(n,{Z:function(){return F}});var r,s=t(5893),a=t(7294),o=t(4184),i=t.n(o),l=t(9351),c=t(3004),d=t(7216),u=t(99);function m(e){if((!r&&0!==r||e)&&c.Z){var n=document.createElement("div");n.style.position="absolute",n.style.top="-9999px",n.style.width="50px",n.style.height="50px",n.style.overflow="scroll",document.body.appendChild(n),r=n.offsetWidth-n.clientWidth,document.body.removeChild(n)}return r}var f=t(2092),h=t(8146),v=t(5654),p=t(6852),x=t(4305),j=t(7785),N=t(9673),b=t(1068),g=t(6611),y=(0,g.Z)("modal-body"),w=t(6467),E=t(6792);const k=a.forwardRef((({bsPrefix:e,className:n,contentClassName:t,centered:r,size:a,fullscreen:o,children:l,scrollable:c,...d},u)=>{const m=`${e=(0,E.vE)(e,"modal")}-dialog`,f="string"===typeof o?`${e}-fullscreen-${o}`:`${e}-fullscreen`;return(0,s.jsx)("div",{...d,ref:u,className:i()(m,n,a&&`${e}-${a}`,r&&`${m}-centered`,c&&`${m}-scrollable`,o&&f),children:(0,s.jsx)("div",{className:i()(`${e}-content`,t),children:l})})}));k.displayName="ModalDialog";var C=k,T=(0,g.Z)("modal-footer"),Z=t(6695);const O=a.forwardRef((({bsPrefix:e,className:n,...t},r)=>(e=(0,E.vE)(e,"modal-header"),(0,s.jsx)(Z.Z,{ref:r,...t,className:i()(n,e)}))));O.displayName="ModalHeader",O.defaultProps={closeLabel:"Close",closeButton:!1};var D=O;const L=(0,t(9602).Z)("h4");var R=(0,g.Z)("modal-title",{Component:L});const S={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:C};function A(e){return(0,s.jsx)(b.Z,{...e,timeout:null})}function P(e){return(0,s.jsx)(b.Z,{...e,timeout:null})}const I=a.forwardRef((({bsPrefix:e,className:n,style:t,dialogClassName:r,contentClassName:o,children:b,dialogAs:g,"aria-labelledby":y,show:k,animation:C,backdrop:T,keyboard:Z,onEscapeKeyDown:O,onShow:D,onHide:L,container:R,autoFocus:S,enforceFocus:I,restoreFocus:_,restoreFocusOptions:M,onEntered:$,onExit:F,onExiting:G,onEnter:z,onEntering:H,onExited:B,backdropClassName:q,manager:K,...U},W)=>{const[X,J]=(0,a.useState)({}),[Q,V]=(0,a.useState)(!1),Y=(0,a.useRef)(!1),ee=(0,a.useRef)(!1),ne=(0,a.useRef)(null),[te,re]=(0,f.Z)(),se=(0,v.Z)(W,re),ae=(0,h.Z)(L),oe=(0,E.SC)();e=(0,E.vE)(e,"modal");const ie=(0,a.useMemo)((()=>({onHide:ae})),[ae]);function le(){return K||(0,N.t)({isRTL:oe})}function ce(e){if(!c.Z)return;const n=le().getScrollbarWidth()>0,t=e.scrollHeight>(0,d.Z)(e).documentElement.clientHeight;J({paddingRight:n&&!t?m():void 0,paddingLeft:!n&&t?m():void 0})}const de=(0,h.Z)((()=>{te&&ce(te.dialog)}));(0,p.Z)((()=>{(0,u.Z)(window,"resize",de),null==ne.current||ne.current()}));const ue=()=>{Y.current=!0},me=e=>{Y.current&&te&&e.target===te.dialog&&(ee.current=!0),Y.current=!1},fe=()=>{V(!0),ne.current=(0,x.Z)(te.dialog,(()=>{V(!1)}))},he=e=>{"static"!==T?ee.current||e.target!==e.currentTarget?ee.current=!1:null==L||L():(e=>{e.target===e.currentTarget&&fe()})(e)},ve=(0,a.useCallback)((n=>(0,s.jsx)("div",{...n,className:i()(`${e}-backdrop`,q,!C&&"show")})),[C,q,e]),pe={...t,...X};C||(pe.display="block");return(0,s.jsx)(w.Z.Provider,{value:ie,children:(0,s.jsx)(j.Z,{show:k,ref:se,backdrop:T,container:R,keyboard:!0,autoFocus:S,enforceFocus:I,restoreFocus:_,restoreFocusOptions:M,onEscapeKeyDown:e=>{Z||"static"!==T?Z&&O&&O(e):(e.preventDefault(),fe())},onShow:D,onHide:L,onEnter:(e,n)=>{e&&(e.style.display="block",ce(e)),null==z||z(e,n)},onEntering:(e,n)=>{null==H||H(e,n),(0,l.ZP)(window,"resize",de)},onEntered:$,onExit:e=>{null==ne.current||ne.current(),null==F||F(e)},onExiting:G,onExited:e=>{e&&(e.style.display=""),null==B||B(e),(0,u.Z)(window,"resize",de)},manager:le(),transition:C?A:void 0,backdropTransition:C?P:void 0,renderBackdrop:ve,renderDialog:t=>(0,s.jsx)("div",{role:"dialog",...t,style:pe,className:i()(n,e,Q&&`${e}-static`),onClick:T?he:void 0,onMouseUp:me,"aria-labelledby":y,children:(0,s.jsx)(g,{...U,onMouseDown:ue,className:r,contentClassName:o,children:b})})})})}));I.displayName="Modal",I.defaultProps=S;var _=Object.assign(I,{Body:y,Header:D,Title:R,Footer:T,Dialog:C,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});const M=a.forwardRef((({bsPrefix:e,variant:n,animation:t,size:r,as:a="div",className:o,...l},c)=>{const d=`${e=(0,E.vE)(e,"spinner")}-${t}`;return(0,s.jsx)(a,{ref:c,...l,className:i()(o,d,r&&`${d}-${r}`,n&&`text-${n}`)})}));M.displayName="Spinner";var $=M,F=function(e){var n=e.show;return(0,s.jsx)(_,{show:n,animation:!1,centered:!0,children:(0,s.jsx)("div",{className:"center-lock",children:(0,s.jsx)($,{animation:"border",role:"status",style:{color:"white",textAlign:"center"}})})})}},7155:function(e,n,t){"use strict";var r=t(5893),s=(t(7294),t(3335)),a=t(682),o=t(2017),i=t(1676),l=t(5005),c=t(5617),d=t(551),u=t(1664);n.Z=function(){var e=(0,c.I0)(),n=(0,c.v9)((function(e){return e})),t=n.loginReducer;n.loadingReducer;return(0,r.jsx)(s.Z,{bg:"dark",className:"navbar-main",expand:"lg",sticky:"top",children:(0,r.jsxs)(a.Z,{fluid:!0,children:[(0,r.jsx)(u.default,{href:"/",children:(0,r.jsx)(s.Z.Brand,{className:"navbar-logo",children:"FaceGram"})}),(0,r.jsx)(o.Z,{style:{paddingLeft:"1000px"},children:t.login?(0,r.jsxs)(o.Z.Link,{children:[" ",t.authority," | "]}):(0,r.jsx)("div",{})}),(0,r.jsx)(i.Z,{className:"d-flex",children:t.login?(0,r.jsx)(l.Z,{onClick:function(){e((0,d.k)()),localStorage.removeItem("login")},variant:"outline-success",children:"Log Out"}):(0,r.jsx)(u.default,{href:"/login ",children:(0,r.jsx)(l.Z,{variant:"outline-success",children:"Login"})})})]})})}},6820:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return g},default:function(){return y}});var r=t(5893),s=t(7294),a=t(8520),o=t.n(a),i=t(5617),l=t(1163),c=t(975),d=t(9669),u=t.n(d);function m(e,n,t,r,s,a,o){try{var i=e[a](o),l=i.value}catch(c){return void t(c)}i.done?n(l):Promise.resolve(l).then(r,s)}var f=function(e){return n=o().mark((function n(t){var r,s;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u().get("https://jsonplaceholder.typicode.com/posts/".concat(e,"/comments"));case 3:r=n.sent,s={res:r.data,number:0},t({type:c.v.GETCOMMENT,payload:s}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})),function(){var e=this,t=arguments;return new Promise((function(r,s){var a=n.apply(e,t);function o(e){m(a,r,s,o,i,"next",e)}function i(e){m(a,r,s,o,i,"throw",e)}o(void 0)}))};var n},h=t(7155),v=t(6542),p=function(e){var n=e.item,t=e.index,s=e.adminAuth,a=e.edit,o=e.handleOpenEdit,i=e.editText,l=e.handleEditText,c=e.editComment,d=e.deleteComment;return(0,r.jsxs)("li",{className:"list-group-item",children:[(0,r.jsxs)("div",{className:"d-flex w-100 justify-content-between",children:[(0,r.jsxs)("h6",{className:"mb-1",children:[" ",n.name]}),s?(0,r.jsx)("div",{onClick:function(){o(t,n)},children:(0,r.jsx)("small",{className:"text-muted cursor-pointer",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-pencil-square",viewBox:"0 0 16 16",children:[(0,r.jsx)("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),(0,r.jsx)("path",{fillRule:"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"})]})})}):null]}),(0,r.jsx)("p",{className:"mb-1 comment-body-font",children:n.body}),(0,r.jsxs)("small",{className:"text-muted",children:[(0,r.jsx)("strong",{children:"By :"})," ",n.email," ( ",n.id," )"]}),s?(0,r.jsx)("div",{children:a==t?(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{className:"form-control mt-2 mb-2",value:i,onChange:l}),(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("button",{onClick:c,className:"btn btn-primary mr-3",children:"Edit"}),(0,r.jsx)("button",{onClick:d,className:"btn btn-danger",children:"Delete"})]})]}):(0,r.jsx)("div",{})}):null]},t)},x=t(9008);function j(e,n,t,r,s,a,o){try{var i=e[a](o),l=i.value}catch(c){return void t(c)}i.done?n(l):Promise.resolve(l).then(r,s)}function N(e){return function(){var n=this,t=arguments;return new Promise((function(r,s){var a=e.apply(n,t);function o(e){j(a,r,s,o,i,"next",e)}function i(e){j(a,r,s,o,i,"throw",e)}o(void 0)}))}}var b=function(e){var n=e.post,t=(0,i.I0)(),a=(0,l.useRouter)(),d=(0,i.v9)((function(e){return e})),u=d.loginReducer,m=d.postReducer,j=d.commentReducer,b=d.loadingReducer;(0,s.useEffect)((function(){t(f(n.id))}),[]);var g,y=(0,s.useState)(!1),w=y[0],E=y[1],k=(0,s.useState)(""),C=k[0],T=k[1],Z=(0,s.useState)(null),O=Z[0],D=Z[1],L=(0,s.useState)(null),R=L[0],S=L[1],A=(0,s.useState)(""),P=A[0],I=A[1];g="admin"===u.authority;var _,M=function(e){return new Promise((function(n){return setTimeout(n,e)}))},$=function(e,n){e==O?(D(null),I("")):(D(e),S(n.id),I(n.body))},F=function(e){e.preventDefault(),I(e.target.value)},G={number:R,res:P},z={number:n.id,res:C},H=N(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:c.v.LOADING}),e.next=3,M(1e3);case 3:t({type:c.v.DELETECOMMENT,payload:O}),D(null),t({type:c.v.STOPLOADING});case 6:case"end":return e.stop()}}),e)}))),B=N(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:c.v.LOADING}),e.next=3,M(1e3);case 3:t({type:c.v.EDITCOMMENT,payload:G}),D(null),t({type:c.v.STOPLOADING});case 6:case"end":return e.stop()}}),e)}))),q=N(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:c.v.LOADING}),e.next=3,M(1e3);case 3:t({type:c.v.DELETEPOST,payload:z}),_=n.title,a.push("/"),t({type:c.v.STOPLOADING});case 7:case"end":return e.stop()}}),e)}))),K=N(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:c.v.LOADING}),e.next=3,M(1e3);case 3:t({type:c.v.EDITPOST,payload:z}),E(null),t({type:c.v.STOPLOADING});case 6:case"end":return e.stop()}}),e)})));return _=m.posts.find((function(e){return e.id==n.id}))?m.posts.find((function(e){return e.id==n.id})).title:n.title,(0,r.jsxs)("div",{children:[(0,r.jsx)(x.default,{children:(0,r.jsx)("title",{children:"FaceGram"})}),(0,r.jsx)(v.Z,{show:b.loading}),(0,r.jsx)(h.Z,{}),(0,r.jsxs)("div",{className:"card postcard",children:[(0,r.jsxs)("div",{className:"card-header",children:[(0,r.jsxs)("div",{className:"d-flex w-100 justify-content-between",children:[(0,r.jsxs)("div",{className:"title-font",children:["Title: ",_]}),(0,r.jsx)("div",{children:g?(0,r.jsxs)("div",{children:[(0,r.jsx)("a",{className:"mr-10",onClick:function(){!1===w?(E(!0),T(n.title)):(E(!1),T(""))},children:(0,r.jsx)("small",{className:"text-muted cursor-pointer",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-pencil-square",viewBox:"0 0 16 16",children:[(0,r.jsx)("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),(0,r.jsx)("path",{fillRule:"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"})]})})}),(0,r.jsx)("button",{onClick:q,className:"btn btn-danger",children:"Delete"})]}):null})]}),w?(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{className:"form-control mt-2 mb-2",value:C,onChange:function(e){e.preventDefault(),T(e.target.value)}}),(0,r.jsx)("button",{onClick:function(){K()},className:"btn btn-primary mr-3",children:"Edit"})]}):(0,r.jsx)("div",{})]}),(0,r.jsx)("div",{className:"card-body mb-20",children:(0,r.jsxs)("blockquote",{className:"blockquote mb-0",children:[(0,r.jsxs)("p",{className:"body-font",children:["Body: ",n.body]}),(0,r.jsxs)("footer",{className:"blockquote-footer",children:["ID: ",n.id]})]})}),(0,r.jsx)("div",{className:"comment-title-font",children:"Comments:"}),(0,r.jsx)("ul",{className:"list-group list-group-flush",children:j.comments.map((function(e,n){return(0,r.jsx)("div",{children:(0,r.jsx)(p,{item:e,index:n,adminAuth:g,edit:O,handleOpenEdit:$,editText:P,handleEditText:F,editComment:B,deleteComment:H})},n)}))})]})]})},g=!0,y=function(e){var n=e.post;return(0,r.jsx)(b,{post:n})}},9008:function(e,n,t){e.exports=t(5443)},1163:function(e,n,t){e.exports=t(387)}},function(e){e.O(0,[253,774,888,179],(function(){return n=5021,e(e.s=n);var n}));var n=e.O();_N_E=n}]);